<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>

  <!-- Header -->
  <header class="top-header">
    <div class="logo-section">
      <img src="{{ url_for('static', filename='images/logo.jpeg') }}" alt="School Logo" class="school-logo">
      <span class="institution-name">My School</span>
    </div>
    <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar">
    <nav>
      <ul>
        <li><a href="{{ url_for('admin_dashboard') }}"><i class="bi bi-speedometer2"></i> <span>Dashboard</span></a></li>
        <li><a href="{{ url_for('admin_staff') }}"><i class="bi bi-people"></i> <span>Staff</span></a></li>
        <li><a href="{{ url_for('admin_classes') }}"><i class="bi bi-building"></i> <span>Classes</span></a></li>
        <li><a href="{{ url_for('admin_exams') }}"><i class="bi bi-journal-text"></i> <span>Exams</span></a></li>
        <li><a href="{{ url_for('admin_results') }}"><i class="bi bi-bar-chart-line"></i> <span>Results</span></a></li>
        <li><a href="{{ url_for('admin_stats') }}"><i class="bi bi-graph-up"></i> <span>Stats</span></a></li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
  <h2>Class Results</h2>
  <p>Select a class to view its student results.</p>

  <!-- Class List -->
  <div class="class-buttons">
    {% for c in classes %}
      <a href="{{ url_for('admin_results') }}?class_id={{ c.id }}" class="class-btn {% if selected_class_id == c.id|string %}active{% endif %}">
        {{ c.name }} {{ c.stream }}
      </a>
    {% endfor %}
  </div>

  <!-- Results Table -->
  {% if results %}
    <div class="results-container">
      <h3>Results for Class {{ selected_class_id }}</h3>
      <table class="results-table">
        <thead>
          <tr>
            <th>Student</th>
            <th>Subject</th>
            <th>Exam</th>
            <th>Term</th>
            <th>Year</th>
            <th>Score</th>
            <th>Remarks</th>
          </tr>
        </thead>
        <tbody>
          {% for row in results %}
            <tr>
              <td>{{ row.student_name }}</td>
              <td>{{ row.subject_name }}</td>
              <td>{{ row.exam_name }}</td>
              <td>{{ row.term }}</td>
              <td>{{ row.year }}</td>
              <td>{{ row.score }}</td>
              <td>{{ row.remarks or '' }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% elif selected_class_id %}
    <p>No results available for this class.</p>
  {% endif %}
</main>


  <!-- Footer -->
  <footer class="footer">
    <p>Â© 2025 My School. All rights reserved.</p>
  </footer>

</body>
</html>